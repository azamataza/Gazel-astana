<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Магазин — Упаковочные материалы</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<style>

  body { font-family: 'Open Sans', sans-serif; margin:0; background:#f0f4f8; color:#222; -webkit-font-smoothing:antialiased; }
  .floating-header { position:fixed; top:0; left:0; right:0; background:rgba(26,35,126,0.98); color:#fff; display:flex;align-items:center;justify-content:space-between;padding:12px 18px; z-index:1000; box-shadow:0 4px 18px rgba(10,20,40,0.2); }
  .floating-header .left { display:flex;align-items:center;gap:12px;}
  .floating-header a, .floating-header .shop-btn { color:#fff; text-decoration:none; display:inline-flex; align-items:center; gap:8px; font-family:'Montserrat',sans-serif;}
  .container { max-width:1100px; margin:110px auto 80px; padding:0 16px; }
  header.main-head { text-align:center; padding:28px 14px; background:linear-gradient(180deg, rgba(26,35,126,0.95), rgba(26,35,126,0.88)); color:#fff; border-radius:8px; box-shadow:0 6px 20px rgba(26,35,126,0.06); }
  h1 { font-family:'Montserrat',sans-serif; margin:0 0 8px; font-size:1.9rem; }
  p.lead { margin:0; opacity:0.95; }
  .category { margin-top:28px; }
  .category h2 { font-family:'Montserrat',sans-serif; color:#1a237e; margin-bottom:12px; font-size:1.4rem; }
  .cards { display:grid; grid-template-columns: repeat(auto-fill,minmax(240px,1fr)); gap:14px; }
  .card { background:#fff; padding:14px; border-radius:12px; box-shadow:0 8px 22px rgba(20,30,60,0.06); display:flex; flex-direction:column; gap:8px; min-height:120px; }
  .card .meta { color:#6c757d; font-size:0.95rem; }
  .price-row { display:flex; align-items:center; justify-content:space-between; gap:8px; margin-top:6px; }
  .price { font-weight:800; color:#ff9900; font-size:1.06rem; }
  .add-controls { display:flex; gap:8px; align-items:center; }
  .btn { background:#1a237e; color:#fff; border:none; padding:10px 14px; border-radius:10px; cursor:pointer; font-weight:700; font-family:'Montserrat',sans-serif; }
  .btn.whatsapp { background:#25D366; color:#fff; display:inline-flex; gap:8px; align-items:center; }
  .small { background:#f1f3f8;border:1px solid #e4e7ef;padding:8px 10px;border-radius:8px; cursor:pointer; font-weight:600; }
  /* Cart panel (hidden by default). Will be toggled by cart button or view button */
  .cart-panel { position:fixed; right:18px; bottom:74px; width:340px; max-width:calc(100% - 36px); background:#fff; border-radius:14px; box-shadow:0 18px 40px rgba(10,20,40,0.12); padding:14px; z-index:1001; transition:transform .25s ease,opacity .25s ease; display:none; }
  .cart-header { display:flex; align-items:center; justify-content:space-between; gap:8px; }
  .cart-items { max-height:260px; overflow:auto; margin-top:8px; }
  .cart-item { display:flex; justify-content:space-between; gap:8px; padding:10px 0; border-bottom:1px solid #f1f3f8; }
  .total { font-weight:900; margin-top:12px; font-size:1.06rem; color:#1a237e; }
  .badge { background:#ff9900;color:#fff;padding:4px 8px;border-radius:999px;font-size:0.85rem; margin-left:6px; font-weight:700; }
  .back-link { display:inline-flex; align-items:center; gap:8px; text-decoration:none; color:#1a237e; border:1px solid #1a237e; padding:8px 12px; border-radius:10px; background:#fff; font-weight:700; font-family:'Montserrat',sans-serif;}
  /* Floating cart button */
  .cart-button {
    position:fixed;
    right:18px;
    bottom:18px;
    z-index:1002;
    width:58px;
    height:58px;
    border-radius:50%;
    background:#1a237e;
    color:#fff;
    display:flex;
    align-items:center;
    justify-content:center;
    box-shadow:0 10px 30px rgba(10,20,40,0.18);
    cursor:pointer;
    border:none;
    font-size:20px;
  }
  .cart-button .cart-badge {
    position:absolute;
    top:-6px;
    right:-6px;
    background:#ff9900;
    color:#fff;
    min-width:22px;
    height:22px;
    padding:0 6px;
    border-radius:999px;
    display:flex;
    align-items:center;
    justify-content:center;
    font-weight:800;
    font-size:12px;
    box-shadow:0 4px 12px rgba(10,20,40,0.15);
  }
  /* mobile improvements */
  @media (max-width:900px){
    .container { margin:100px 12px 90px; }
    .cards{ grid-template-columns: repeat(2,minmax(0,1fr)); gap:12px; }
    .card{ padding:12px; border-radius:10px; }
    .floating-header { padding:10px 12px; }
    .cart-panel { right:12px; left:12px; bottom:74px; width:auto; border-radius:12px; padding:12px; }
    .cart-button { right:12px; bottom:12px; width:56px; height:56px; }
  }
  @media (max-width:520px){
    .cards{ grid-template-columns: 1fr; }
    .card{ padding:14px; }
    .add-controls { gap:6px; }
    .small, .btn { padding:10px; font-size:15px; }
    .floating-header .left a span { display:none; } /* hide text in header buttons to save space */
    header.main-head { padding:20px 12px; }
    .container { margin:90px 10px 140px; }
    .cart-panel { left:8px; right:8px; bottom:84px; width:auto; border-radius:12px; padding:12px; }
    .cart-button { right:8px; bottom:18px; width:56px; height:56px; }
  }

.floating-logo { max-height:48px; height:auto; }
@media (max-width:520px){
  .floating-logo { max-height:38px; }
}

  .shop-btn { background: #ff9900; color:#1a237e; font-weight:800; border-radius:22px; padding:10px 18px; text-decoration:none; box-shadow:0 6px 18px rgba(255,153,0,0.18); font-family:'Montserrat',sans-serif; }
  .lang-btn { color:#fff; text-decoration:none; font-weight:700; padding:6px 8px; border-radius:8px; opacity:0.95; }
  .lang-btn.active { background: rgba(255,255,255,0.06); }
  /* ensure header has enough height on mobile */
  @media (max-width:520px){
    .floating-header { padding:12px 10px; align-items:center; gap:8px; }
    .floating-header .right a { font-size:0.95rem; }
    .shop-btn { padding:8px 12px; font-size:0.95rem; }
    .floating-logo { max-height:40px; }
  }

</style>
<style>
/* Unified header styles */
.floating-header.unified-header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1000;
  background: linear-gradient(180deg, rgba(0,82,155,0.98), rgba(0,58,110,0.98));
  color: #fff;
  box-shadow: 0 4px 18px rgba(10,20,40,0.18);
  padding: 0;
  font-family: 'Montserrat', 'Open Sans', sans-serif;
}

/* Row spacing */
.floating-header .header-row { max-width: 1100px; margin: 0 auto; }

/* Logo */
.floating-logo { display:block; height:44px; }

/* Language buttons */
.lang-btn {
  display:inline-block;
  padding:6px 10px;
  border-radius:8px;
  text-decoration:none;
  color:rgba(255,255,255,0.85);
  border:1px solid rgba(255,255,255,0.06);
  font-weight:600;
  font-size:14px;
}
.lang-btn.active {
  background: rgba(255,255,255,0.14);
  color: #ffffff;
  box-shadow: 0 4px 12px rgba(0,0,0,0.18);
}

/* Phone link */
.phone-link { font-size:16px; }

/* Shop button */
.shop-btn {
  display:inline-block;
  padding:8px 16px;
  border-radius:10px;
  text-decoration:none;
  font-weight:700;
  letter-spacing:0.4px;
  background: rgba(255,255,255,0.12);
  color:#fff;
  border: none;
}

/* Adjustments for desktop */
@media (min-width: 769px) {
  .floating-header.unified-header { padding-top:10px; padding-bottom:12px; }
  .floating-logo { height:48px; }
  .phone-link { font-size:18px; }
}

/* Adjustments for mobile */
@media (max-width: 768px) {
  .floating-header.unified-header { padding-top:8px; padding-bottom:8px; }
  .floating-logo { height:36px; }
  .lang-btn { padding:6px 8px; font-size:13px; }
  .phone-link { font-size:15px; }
  /* ensure content below header isn't hidden behind fixed header */
   /* approximate header height; adjust if needed */
}

/* safety: if original page had top margin, keep it consistent */

</style>
<style>
    /* --- Плавающая шапка --- */
    .floating-header {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        background: rgba(26, 35, 126, 0.95);
        backdrop-filter: blur(10px);
        padding: 12px 20px;
        z-index: 1000;
        box-shadow: 0 2px 20px rgba(0,0,0,0.2);
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .floating-header-content {
        display: flex;
        align-items: center;
        justify-content: space-between;
        width: 100%;
        max-width: 1200px;
        margin: 0 auto;
    }

    .header-left {
        display: flex;
        align-items: center;
        gap: 20px;
    }

    .floating-logo {
        height: 45px;
        width: auto;
    }

    .language-switcher {
        display: flex;
        gap: 10px;
    }

    .lang-btn {
        background: transparent;
        border: 1px solid rgba(255,255,255,0.3);
        color: white;
        padding: 6px 15px;
        border-radius: 20px;
        cursor: pointer;
        font-family: 'Montserrat', sans-serif;
        font-size: 0.9em;
        transition: all 0.3s ease;
        text-decoration: none;
    }

    .lang-btn:hover {
        background: rgba(255,255,255,0.1);
        border-color: #ff9900;
    }

    .lang-btn.active {
        background: #ff9900;
        border-color: #ff9900;
        color: white;
    }

    .header-phone {
        color: white;
        font-family: 'Montserrat', sans-serif;
        font-weight: 600;
        font-size: 1.1em;
        text-decoration: none;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .header-phone:hover {
        color: #ff9900;
    }

    /* --- Общие стили и сброс --- */
    * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
    }

    body {
        font-family: 'Open Sans', sans-serif;
        background-color: #f0f4f8; /* Очень светлый серый/голубой */
        color: #333;
        line-height: 1.7;
        overflow-x: hidden; /* Предотвращает горизонтальную прокрутку, если что-то выйдет за край */
        padding-top: 8px;
    }
        /* --- Шапка с фоновым изображением и логотипом --- */
        header {
            /* Уменьшил прозрачность rgba до 0.6 для лучшей читаемости текста на фоне */
            /* ИЗМЕНЕНО: Ссылка на fon.png вместо Unsplash URL */
            background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('fon.png') no-repeat center top/cover;
            color: white;
            padding: 60px 20px;
            text-align: center;
            position: relative;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            background-attachment: fixed; /* Параллакс-эффект */
            overflow: hidden; /* Скрывает все, что выходит за пределы header */
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .header-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            max-width: 1200px; /* Ограничим ширину контента шапки */
        }

        .header-top {
            display: flex;
            align-items: center;
            justify-content: center; /* Центрируем лого и заголовок по умолчанию */
            width: 100%;
            margin-bottom: 15px; /* Отступ между лого и заголовок и остальным контентом */
            flex-wrap: wrap; /* Разрешаем элементам переноситься на новую строку при уменьшении ширины */
        }

        .header-logo {
            max-height: 80px; /* Ограничим максимальную высоту логотипа */
            width: auto;
            margin-right: 20px; /* Отступ справа от логотипа */
            animation: fadeIn 1s ease-out;
        }

        header h1 {
            font-family: 'Montserrat', sans-serif;
            font-size: 2.8em; /* Немного уменьшим размер заголовка */
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.4);
            animation: fadeInDown 1s ease-out; /* Анимация появления */
        }

        header p {
            font-size: 1.3em; /* Немного уменьшим размер подзаголовка */
            opacity: 0.95;
            max-width: 700px;
            margin: 0 auto 25px auto;
            animation: fadeInUp 1.2s ease-out 0.3s; /* Анимация появления с задержкой */
        }

        .cta-button {
            display: inline-block;
            background-color: #ff9900; /* Яркий оранжевый */
            color: white;
            padding: 15px 35px;
            border-radius: 50px; /* Скругленная кнопка */
            text-decoration: none;
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            font-size: 1.2em;
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            animation: pulse 2s infinite alternate; /* Эффект пульсации */
        }

        .cta-button:hover {
            background-color: #e68a00;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3); /* Усиленная тень при наведении */
        }

        /* --- Общие стили секций --- */
        .section {
            padding: 60px 20px;
            max-width: 1000px;
            margin: 0 auto;
            text-align: center;
        }

        .section h2 {
            font-family: 'Montserrat', sans-serif;
            font-size: 2.5em;
            margin-bottom: 40px;
            color: #1a237e; /* Темно-синий */
            position: relative;
            padding-bottom: 10px;
        }

        .section h2::after { /* Подчеркивание для заголовков */
            content: '';
            position: absolute;
            left: 50%;
            bottom: 0;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background-color: #007bff; /* Синий акцент */
            border-radius: 5px;
        }

        /* --- Стили для карточек услуг --- */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px; /* Больший отступ между карточками */
            justify-content: center;
        }

        .card {
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            padding: 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid #e0e0e0;
        }

        .card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
        }

        .card .icon {
            font-size: 3em;
            color: #007bff; /* Синий акцент для иконок */
            margin-bottom: 15px;
            transition: transform 0.3s ease; /* Анимация для иконки */
        }

        .card:hover .icon { /* Анимация при наведении на карточку */
            transform: scale(1.1); /* Немного увеличиваем иконку */
        }

        .card h3 {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.8em;
            color: #1a237e;
            margin-bottom: 10px;
        }

        .card p {
            font-size: 1.1em;
            color: #555;
            margin-bottom: 8px;
        }

        .card .price {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.3em;
            font-weight: 700;
            color: #ff9900; /* Оранжевая цена */
            margin-top: 15px;
        }

        /* НОВЫЙ СТИЛЬ для карточки "Премиум переезд" */
        .card--premium {
            background-color: #fff8e1; /* Легкий золотистый фон */
            border: 2px solid #ffc107; /* Яркий золотистый бордюр */
            box-shadow: 0 10px 30px rgba(255, 193, 7, 0.2); /* Красивая тень */
        }

        .card--premium:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 15px 40px rgba(255, 193, 7, 0.3);
        }
        
        .card--premium .icon {
            color: #d39e00; /* Золотистый цвет для иконки */
        }

        .card--premium .card-title {
            color: #d39e00; /* Золотистый цвет заголовка */
            font-weight: 700;
        }

        .card--premium .service-list {
            list-style-type: none; /* Убрать маркеры списка */
            padding-left: 0;
            text-align: left; /* Выровнять по левому краю */
            width: 100%;
        }

        .card--premium .service-list li {
            position: relative;
            padding-left: 25px;
            margin-bottom: 10px;
            color: #555;
            font-size: 1.1em;
        }

        .card--premium .service-list li::before {
            content: "\f00c"; /* Иконка галочки FontAwesome */
            font-family: "Font Awesome 5 Free";
            font-weight: 900;
            position: absolute;
            left: 0;
            top: 0;
            color: #28a745; /* Зеленая галочка */
        }
        
        /* --- Стили для среднего CTA блока --- */
        .mid-cta-section {
            background-color: #1a237e; /* Темно-синий фон */
            color: white;
            padding: 60px 20px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            margin: 40px 0; /* Отступы сверху и снизу */
            animation: fadeInUp 1s ease-out; /* Анимация появления */
        }

        .mid-cta-section h2 {
            font-family: 'Montserrat', sans-serif;
            font-size: 2.8em; /* Крупнее, чем обычные заголовки секций */
            margin-bottom: 25px;
            color: white; /* Белый текст для контраста */
            position: relative; /* Для подчеркивания */
            padding-bottom: 10px;
        }

        .mid-cta-section h2::after { /* Подчеркивание для заголовка */
            content: '';
            position: absolute;
            left: 50%;
            bottom: 0;
            transform: translateX(-50%);
            width: 100px; /* Чуть шире */
            height: 5px; /* Чуть толще */
            background-color: #ff9900; /* Оранжевое подчеркивание */
            border-radius: 5px;
        }

        .mid-cta-section p {
            font-size: 1.5em;
            margin-bottom: 30px;
            opacity: 0.9;
        }

        /* --- Стили для преимуществ --- */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 30px;
            justify-content: center;
            margin-top: 40px;
        }

        .feature-item {
            background: #e3f2fd; /* Светло-голубой фон */
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            text-align: center;
            transition: background-color 0.3s ease, transform 0.3s ease;
        }

        .feature-item:hover {
            background-color: #cce7ff; /* Чуть темнее при наведении */
            transform: translateY(-5px);
        }

        .feature-item .icon {
            font-size: 3.5em;
            color: #28a745; /* Зеленый для иконок преимуществ */
            margin-bottom: 15px;
            transition: transform 0.3s ease; /* Анимация для иконки */
        }

        .feature-item:hover .icon { /* Анимация при наведении */
            transform: rotate(10deg); /* Поворот иконки */
        }

        .feature-item h3 {
            font-family: 'Montserrat', sans-serif;
            font-size: 2em;
            color: #1a237e;
            margin-bottom: 8px;
            word-wrap: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
        }

        .feature-item p {
            font-size: 1.1em;
            color: #555;
        }

        /* --- НОВЫЙ СТИЛЬ: Секция для WhatsApp CTA --- */
        .whatsapp-cta-section {
            background-color: #1a237e; /* Темно-синий фон */
            color: white;
            padding: 60px 20px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            margin: 40px 0; /* Отступы сверху и снизу */
            animation: fadeInUp 1s ease-out; /* Анимация появления */
        }

        .whatsapp-cta-section h2 {
            font-family: 'Montserrat', sans-serif;
            font-size: 2.8em;
            margin-bottom: 25px;
            color: white;
            position: relative;
            padding-bottom: 10px;
        }

        .whatsapp-cta-section h2::after {
            content: '';
            position: absolute;
            left: 50%;
            bottom: 0;
            transform: translateX(-50%);
            width: 120px; /* Чуть шире для акцента */
            height: 5px;
            background-color: #25D366; /* WhatsApp зеленый для подчеркивания */
            border-radius: 5px;
        }

        .whatsapp-cta-section p {
            font-size: 1.5em;
            margin-bottom: 30px;
            opacity: 0.9;
        }

        /* Стили для кнопки WhatsApp CTA (используем уже существующие стили cta-button) */
        .whatsapp-cta-button {
            background-color: #25D366; /* WhatsApp зеленый */
            box-shadow: 0 8px 20px rgba(37, 211, 102, 0.4); /* Зеленая тень для эффекта "горения" */
            animation: pulse-whatsapp 2s infinite alternate; /* Анимация пульсации */
        }

        .whatsapp-cta-button:hover {
            background-color: #1DA851; /* Темнее зеленый при наведении */
            transform: translateY(-5px); /* Чуть большее поднятие */
            box-shadow: 0 12px 30px rgba(37, 211, 102, 0.6); /* Усиленная тень */
        }

        .whatsapp-cta-button i {
            margin-right: 10px;
        }

        /* --- Стили для секции "Работа с юр. лицами" --- */
        .legal-entities-section {
            background-color: #f8f9fa; /* Очень светлый серый */
            padding: 60px 20px;
            text-align: center;
            border-top: 1px solid #e9ecef;
            box-shadow: inset 0 3px 10px rgba(0,0,0,0.02);
        }

        .legal-entities-section .description {
            max-width: 800px;
            margin: 0 auto 40px auto;
            font-size: 1.2em;
            color: #495057;
        }

        .legal-entities-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            max-width: 800px;
            margin: 0 auto;
        }

        .legal-entity-item {
            background-color: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            text-align: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid #dee2e6;
        }

        .legal-entity-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
        }

        .legal-entity-item .icon {
            font-size: 3em;
            color: #007bff; /* Синий акцент */
            margin-bottom: 15px;
        }

        .legal-entity-item h3 {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.8em;
            color: #1a237e;
            margin-bottom: 10px;
        }

        .legal-entity-item p {
            font-size: 1.1em;
            color: #555;
        }

        /* --- Стили для контактов --- */
        .contact-section {
            background-color: #fff8e1; /* Очень светлый желтый */
            padding: 60px 20px;
            text-align: center;
            border-top: 1px solid #f0e0b3;
            box-shadow: inset 0 3px 10px rgba(0,0,0,0.05);
        }

        .contact-section h2 {
            color: #d39e00; /* Золотистый/желтый для заголовка */
            margin-bottom: 30px;
        }

        .contact-info p {
            font-size: 1.3em;
            margin-bottom: 10px; /* Уменьшим отступ для P, чтобы кнопка была ближе */
            color: #444;
        }

        .contact-info p strong {
            color: #1a237e;
            font-size: 1.1em;
        }

        /* Новые стили для контактной кнопки */
        .contact-call-button {
            margin-top: 25px; /* Отступ сверху от текста */
            font-size: 1.4em; /* Крупнее для акцента */
            padding: 18px 40px; /* Больше отступов */
            background-color: #ff9900; /* Яркий оранжевый */
            box-shadow: 0 8px 20px rgba(255, 153, 0, 0.4); /* Оранжевая тень для эффекта "горения" */
            animation: pulse-orange 2s infinite alternate; /* Анимация пульсации */
        }

        .contact-call-button:hover {
            background-color: #e68a00; /* Темнее оранжевый при наведении */
            transform: translateY(-5px); /* Чуть большее поднятие */
            box-shadow: 0 12px 30px rgba(255, 153, 0, 0.6); /* Усиленная тень */
        }

        /* --- Подвал --- */
        footer {
            background-color: #212529; /* Темно-серый */
            color: white;
            text-align: center;
            padding: 30px;
            font-size: 0.9em;
            box-shadow: 0 -4px 10px rgba(0, 0, 0, 0.1);
        }

        footer a {
            color: #007bff;
            text-decoration: none;
            transition: color 0.3s ease;
            margin: 0 10px;
        }

        footer a:hover {
            color: #0056b3;
            text-decoration: underline;
        }

        /* --- Плавающие кнопки --- */
        .floating-buttons {
            position: fixed;
            bottom: 20px;
            right: 20px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            z-index: 1000;
        }

        .floating-btn {
            background-color: #007bff; /* Синий для звонка и WhatsApp */
            color: white;
            width: 55px;
            height: 55px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8em;
            text-decoration: none;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.25);
            transition: background-color 0.3s ease, transform 0.2s ease, opacity 0.3s ease; /* Добавлена прозрачность */
        }

        .floating-btn.whatsapp {
            background-color: #25D366; /* WhatsApp зеленый */
        }

        .floating-btn.reviews {
            background-color: #ff9900; /* Оранжевый для отзывов */
        }

        .floating-btn:hover {
            transform: translateY(-3px);
            opacity: 0.9; /* Небольшая прозрачность при наведении */
        }

        /* --- Модальное окно отзывов --- */
        .modal-overlay {
            display: none; /* Скрыто по умолчанию */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1001;
            justify-content: center;
            align-items: center;
            padding: 20px;
            overflow-y: auto; /* Для скролла, если отзывов много */
            opacity: 0; /* Начальная прозрачность */
            transition: opacity 0.3s ease; /* Плавное появление */
        }

        .modal-overlay.is-active { /* Класс для активного состояния */
            display: flex; /* Показываем модальное окно */
            opacity: 1; /* Делаем видимым */
        }

        .modal-content {
            background-color: white;
            border-radius: 10px;
            padding: 30px;
            max-width: 700px;
            width: 100%;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
            position: relative;
            text-align: left; /* Вернуть выравнивание текста внутри модального окна */
            transform: scale(0.95); /* Начальный масштаб */
            transition: transform 0.3s ease; /* Плавное масштабирование */
            max-height: 90vh; /* Ограничиваем высоту для мобильных */
            overflow-y: auto; /* Добавляем прокрутку */
        }

        .modal-overlay.is-active .modal-content { /* Активное состояние */
            transform: scale(1); /* Возвращаем к нормальному масштабу */
        }

        .modal-close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 2em;
            color: #555;
            cursor: pointer;
            transition: color 0.3s ease;
            z-index: 10;
        }

        .modal-close-btn:hover {
            color: #333;
        }

        .modal-content h3 {
            font-family: 'Montserrat', sans-serif;
            font-size: 2em;
            color: #1a237e;
            margin-bottom: 20px;
            text-align: center;
        }

        .reviews-list {
            max-height: 400px; /* Ограничиваем высоту списка отзывов */
            overflow-y: auto; /* Добавляем прокрутку, если отзывов много */
            padding-right: 10px; /* Отступ для полосы прокрутки */
            margin-bottom: 20px;
        }

        /* Кастомный скроллбар для reviews-list */
        .reviews-list::-webkit-scrollbar {
            width: 8px;
        }
        .reviews-list::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        .reviews-list::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 10px;
        }
        .reviews-list::-webkit-scrollbar-thumb:hover {
            background: #555;
        }

        .review-item {
            border-bottom: 1px solid #eee;
            padding-bottom: 15px;
            margin-bottom: 15px;
        }

        .review-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }

        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 5px;
        }

        .reviewer-name {
            font-weight: 700;
            color: #333;
            font-size: 1.1em;
        }

        .review-date {
            font-size: 0.9em;
            color: #777;
        }

        .review-text {
            font-style: italic;
            color: #555;
            margin-top: 5px;
        }

        .stars {
            color: #ffc107; /* Золотой цвет для звезд */
            font-size: 1.1em;
        }

        .review-form h4 {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.5em;
            color: #1a237e;
            margin-top: 30px;
            margin-bottom: 15px;
            text-align: center;
        }

        .review-form label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #333;
        }

        .review-form input[type="text"],
        .review-form textarea {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: 'Open Sans', sans-serif;
            font-size: 1em;
        }

        .review-form textarea {
            resize: vertical;
            min-height: 80px;
        }

        .review-form button {
            background-color: #007bff;
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-family: 'Montserrat', sans-serif;
            font-weight: 600;
            font-size: 1.1em;
            transition: background-color 0.3s ease, transform 0.2s ease;
            display: block; /* Сделать кнопку блочным элементом */
            margin: 0 auto; /* Центрировать кнопку */
        }

        .review-form button:hover {
            background-color: #0056b3;
            transform: translateY(-2px);
        }

        #submission-message {
            margin-top: 15px;
            color: #28a745;
            font-weight: 600;
            text-align: center;
            display: none; /* Скрыто по умолчанию */
        }

        /* Стили для новых "страниц" Политики и Условий */
        .info-section {
            display: none; /* Скрыты по умолчанию */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.98); /* Почти белый фон */
            z-index: 1002; /* Выше чем модальное окно */
            overflow-y: auto;
            padding: 80px 20px;
            text-align: left;
            opacity: 0; /* Начальная прозрачность */
            transition: opacity 0.3s ease; /* Плавное появление */
        }

        .info-section.is-active { /* Класс для активного состояния */
            display: block; /* Показываем */
            opacity: 1; /* Делаем видимым */
        }

        .info-section .content {
            max-width: 800px;
            margin: 0 auto;
            padding: 30px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transform: translateY(-20px); /* Начальное положение немного выше */
            transition: transform 0.3s ease; /* Плавное перемещение */
        }

        .info-section.is-active .content { /* Активное состояние */
            transform: translateY(0); /* Возвращаем в нормальное положение */
        }

        .info-section h2 {
            font-family: 'Montserrat', sans-serif;
            font-size: 2.5em;
            color: #1a237e;
            margin-bottom: 20px;
            text-align: center;
        }

        .info-section p {
            margin-bottom: 1em;
            color: #444;
            font-size: 1.1em;
        }

        .info-section ul {
            list-style-type: disc;
            margin-left: 20px;
            margin-bottom: 1em;
            color: #444;
        }

        .info-section .close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 2.5em;
            color: #555;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .info-section .close-btn:hover {
            color: #333;
        }

        /* --- Анимации --- */
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            }
            50% {
                transform: scale(1.03);
                box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
            }
            100% {
                transform: scale(1);
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            }
        }

        /* Новая анимация пульсации для оранжевой кнопки (для contact-call-button) */
        @keyframes pulse-orange {
            0% {
                transform: scale(1);
                box-shadow: 0 8px 20px rgba(255, 153, 0, 0.4);
            }
            50% {
                transform: scale(1.05); /* Чуть большее увеличение */
                box-shadow: 0 12px 30px rgba(255, 153, 0, 0.6); /* Более сильная тень */
            }
            100% {
                transform: scale(1);
                box-shadow: 0 8px 20px rgba(255, 153, 0, 0.4);
            }
        }
        
        /* НОВАЯ АНИМАЦИЯ: пульсация для WhatsApp кнопки */
        @keyframes pulse-whatsapp {
            0% {
                transform: scale(1);
                box-shadow: 0 8px 20px rgba(37, 211, 102, 0.4);
            }
            50% {
                transform: scale(1.05);
                box-shadow: 0 12px 30px rgba(37, 211, 102, 0.6);
            }
            100% {
                transform: scale(1);
                box-shadow: 0 8px 20px rgba(37, 211, 102, 0.4);
            }
        }

        /* Новая анимация для плавного появления */
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        /* --- Стили для загрузочного значка --- */
        .loader-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }

        .loader {
            width: 80px; /* Увеличим размер */
            height: 80px; /* Увеличим размер */
            border: 8px solid #f3f3f3; /* Светлая часть */
            border-top: 8px solid #007bff; /* Цветная часть */
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loaded {
            opacity: 0;
            visibility: hidden;
            pointer-events: none; /* Добавлено, чтобы лоадер не блокировал клики после скрытия */
        }

        /* --- Медиа-запросы для адаптивности --- */
        @media (max-width: 768px) {
            header {
                padding: 40px 15px; /* Уменьшим отступ для шапки */
            }
            /* Плавающая шапка на планшетах */
    .floating-header {
        padding: 8px 15px;
    }
    .floating-logo {
        height: 35px;
    }
    .header-phone {
        font-size: 0.9em;
    }
    .lang-btn {
        padding: 4px 10px;
        font-size: 0.8em;
    }
    
            .header-top {
                flex-direction: column; /* Лого и заголовок друг под другом */
                margin-bottom: 10px;
            }
            .header-logo {
                max-height: 70px; /* Немного уменьшим логотип */
                margin-right: 0;
                margin-bottom: 10px;
            }
            header h1 {
                font-size: 2.2em; /* Меньше заголовок */
                margin-bottom: 5px;
            }
            header p {
                font-size: 1.1em;
                margin-bottom: 20px;
            }
            .cta-button {
                padding: 12px 25px;
                font-size: 1.1em;
            }
            .section {
                padding: 40px 15px;
            }
            .section h2 {
                font-size: 2em;
                margin-bottom: 30px;
            }
            .card {
                padding: 20px;
            }
            .card h3 {
                font-size: 1.5em;
            }
            .feature-item h3 {
                font-size: 1.8em;
            }
            .contact-section {
                padding: 40px 15px;
            }
            .contact-info p {
                font-size: 1.1em;
            }
            .contact-call-button { /* Адаптация новой кнопки */
                font-size: 1.2em;
                padding: 15px 30px;
            }
            .modal-content {
                padding: 20px;
                margin: 15px; /* Отступ по краям на маленьких экранах */
            }
            .floating-buttons {
                bottom: 15px;
                right: 15px;
                gap: 8px;
            }
            .floating-btn {
                width: 50px;
                height: 50px;
                font-size: 1.6em;
            }
            .mid-cta-section {
                padding: 40px 15px;
            }
            .mid-cta-section h2 {
                font-size: 2em;
            }
            .mid-cta-section p {
                font-size: 1.2em;
            }
            /* НОВЫЙ СТИЛЬ: Адаптация WhatsApp CTA */
            .whatsapp-cta-section {
                padding: 40px 15px;
            }
            .whatsapp-cta-section h2 {
                font-size: 2em;
            }
            .whatsapp-cta-section p {
                font-size: 1.2em;
            }
            .whatsapp-cta-button {
                font-size: 1.1em;
                padding: 12px 25px;
            }
            .info-section {
                padding: 60px 15px;
            }
            .info-section .content {
                padding: 20px;
            }
            .legal-entities-section {
                padding: 40px 15px;
            }
            .legal-entities-section .description {
                font-size: 1.1em;
                margin-bottom: 30px;
            }
            .legal-entity-item {
                padding: 20px;
            }
            .legal-entity-item h3 {
                font-size: 1.5em;
            }
            /* Медиа-запросы для модального окна Премиум */
            .modal-body .cta-button {
                width: 100%;
                font-size: 1.1em;
                padding: 12px 25px;
            }
            .modal-body .modal-buttons {
                flex-direction: column;
                gap: 10px;
            }
        }

        @media (max-width: 480px) {
            .header-logo {
                max-height: 60px; /* Еще меньше логотип */
            }
    /* Плавающая шапка на мобильных */
    .floating-header-content {
        flex-direction: column;
        gap: 8px;
    }
    .header-left {
        justify-content: center;
        width: 100%;
    }
    .floating-logo {
        height: 30px;
    }
    .header-phone {
        font-size: 0.9em;
        justify-content: center;
    }
    .lang-btn {
        padding: 4px 12px;
        font-size: 0.8em;
    }
header h1 {
                font-size: 1.8em; /* Еще меньше заголовок */
            }
            header p {
                font-size: 0.9em;
            }
            .cta-button {
                font-size: 1em;
                padding: 10px 20px;
            }
            .section h2 {
                font-size: 1.8em;
            }
            .card h3 {
                font-size: 1.3em;
            }
            .feature-item h3 {
                font-size: 1.6em;
            }
            .floating-btn {
                width: 45px;
                height: 45px;
                font-size: 1.4em;
            }
            .mid-cta-section h2 {
                font-size: 1.8em;
            }
            .mid-cta-section p {
                font-size: 1em;
            }
            /* НОВЫЙ СТИЛЬ: Адаптация WhatsApp CTA */
            .whatsapp-cta-section h2 {
                font-size: 1.8em;
            }
            .whatsapp-cta-section p {
                font-size: 1em;
            }
            .whatsapp-cta-button {
                font-size: 1.1em;
                padding: 12px 25px;
            }
            .contact-call-button { /* Адаптация новой кнопки */
                font-size: 1.1em;
                padding: 12px 25px;
            }
            .legal-entity-item h3 {
                font-size: 1.3em;
            }
        }

        /* НОВЫЕ СТИЛИ ДЛЯ ОТСТУПОВ В МОДАЛЬНОМ ОКНЕ */
        .modal-body .cta-text {
            margin-bottom: 1.5em; /* Отступ между текстом "Забудьте о хлопотах" и списком */
        }

        .modal-body .modal-buttons {
            display: flex;
            justify-content: center;
            gap: 20px; /* Отступ между кнопками */
            flex-wrap: wrap;
            margin-top: 25px; /* Отступ сверху от текста "Готовы к переезду..." */
        }

/* --- Mobile-specific shop link & logo highlight --- */
@media (max-width: 480px) {
    .mobile-shop-link { display: inline-block !important; background: #ff9900; color: #fff; border-radius: 18px; padding: 6px 12px; box-shadow: 0 6px 18px rgba(255,153,0,0.35); border: 1px solid rgba(255,255,255,0.15); }
    .floating-logo { box-shadow: 0 6px 20px rgba(0,0,0,0.25); border-radius: 8px; border: 2px solid rgba(255,255,255,0.12); }
    /* Hide the duplicate large logo inside the header with background on small screens */
    header .header-logo { display: none !important; }
}

/* --- Fix: prevent floating header from overlapping main header on mobile --- */
@media (max-width: 768px) {
    /* push the main header down on small screens to clear the fixed floating header */
    
}
@media (max-width: 480px) {
    
    /* ensure floating header stays on top but not covering content excessively */
    .floating-header {
        padding: 10px 12px;
    }
}

/* --- UI improvements added automatically --- */
/* Ensure floating header sits above other header elements */
.floating-header {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 1050;
}

/* Highlight logo and store badge on blue background for mobile */
.header-logo {
    display: inline-block;
    padding: 6px 8px;
    border-radius: 8px;
    background: rgba(255,255,255,0.12);
    backdrop-filter: blur(2px);
}
.store-badge {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 6px 10px;
    border-radius: 20px;
    background: rgba(255,255,255,0.12);
    font-weight: 600;
}

/* slightly larger touch targets on mobile */
@media (max-width: 768px) {
    .header-logo, .store-badge {
        padding: 8px 10px;
    }
    /* make sure header content isn't hidden under floating header */
    body { padding-top: 64px; }
}

/* Responsive cards grid: make sure layout is stable and shows up to 2 columns on small screens */
.cards-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
    gap: 18px;
}

/* --- Grid layout: 1 column on small screens, 2 on tablets, 3 on desktop --- */
.cards-grid {
    display: grid !important;
    grid-template-columns: 1fr !important;
    gap: 18px !important;
    align-items: stretch;
}

/* make each card a flexible column so heights match */
.cards-grid .card {
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    box-sizing: border-box;
    height: 100%;
    padding: 18px;
    background: #ffffff;
    border-radius: 8px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.06);
}

/* ensure card content grows and buttons stick to bottom if present */
.cards-grid .card > * {
    flex-shrink: 0;
}
.cards-grid .card .card-body {
    flex: 1 1 auto;
}

/* Tablet: 2 columns */
@media (min-width: 768px) {
    .cards-grid {
        grid-template-columns: repeat(2, 1fr) !important;
    }
}

/* Desktop: 3 columns */
@media (min-width: 1024px) {
    .cards-grid {
        grid-template-columns: repeat(3, 1fr) !important;
    }
}

/* Keep responsive behavior intact on very small screens */
@media (max-width: 480px) {
    .cards-grid {
        grid-template-columns: 1fr !important;
    }
}

</style>

<!-- Fixed: unified header spacing for mobile -->
<style>
@media (max-width: 768px) {
  /* Keep one consistent offset so the fixed header does not create a huge gap */
  body { padding-top: 70px !important; }
  /* Ensure container doesn't add extra top margin */
  .container { margin-top: 0 !important; }
  /* Make sure header's internal padding is normal */
  header { padding-top: 12px !important; }
}
</style>


<!-- FIXES: prevent floating header from covering lower sections and align prices in mobile -->
<style>
/* Ensure sections are not hidden under fixed header when opening links/scrolling */
.category { padding-top: 12px; scroll-margin-top: 90px; }

/* Make price column stable and right-aligned */
.card { --price-col-width: 96px; }
.card > div:first-child { display:flex; align-items:center; justify-content:space-between; gap:12px; }
.card .price { min-width: var(--price-col-width); text-align:right; display:block; }

/* Mobile adjustments: keep prices in a single column and prevent wrapping */
@media (max-width:520px) {
  .card > div:first-child { flex-direction:row; gap:8px; }
  .card .price { min-width: 100px; white-space:nowrap; }
  .meta { flex:1 1 auto; }
  .add-controls { flex-shrink:0; }
  /* ensure unit and price align vertically */
  .card .meta, .card .price { align-self:center; }
}
</style>

</head>

<body>
<header class="floating-header">
        <div class="floating-header-content">
            <div class="header-left">
                <img src="Logo.png" alt="Логотип Gruzim.kz" class="floating-logo">
                <div class="language-switcher">
                    <a href="index.html" class="lang-btn active">РУС</a>
                    <a href="indexkz.html" class="lang-btn">ҚАЗ</a>
                </div>
            </div>
                <a href="index.html" class="lang-btn shop-link mobile-shop-link" style="display:none; margin-top:8px; font-weight:700;">НА ГЛАВНУЮ</a>
            
<a href="tel:+77767469606" class="header-phone" data-phone-type="floating-header">
    <i class="fas fa-phone"></i>
    +7 (776) 746-96-06
</a>
        </div>
    </header>
<div class="container">
    <header class="main-head">
      <h1>Магазин упаковочных материалов</h1>
      <p class="lead">Выбери нужные расходники для переезда. Цены можно редактировать прямо в этом файле (в блоке JSON).</p>
      <div style="margin-top:12px;"><a href="index.html" class="back-link">← На главную</a></div>
    </header>

    <script id="product-data" type="application/json">
[
  {
    "category": "Коробки",
    "items": [
      { "id": "box-small", "title": "Коробка малая", "size": "40×30×30 см", "price": 200, "unit": "шт" },
      { "id": "box-medium", "title": "Коробка средняя", "size": "60×40×40 см", "price": 350, "unit": "шт" },
      { "id": "box-clothes", "title": "Коробка для одежды (с перекладиной)", "size": "для одежды", "price": 700, "unit": "шт" }
    ]
  },
  {
    "category": "Упаковочная плёнка",
    "items": [
      { "id": "bubble-1m", "title": "Пузырчатая плёнка 1 м", "size": "1 м рулон", "price": 250, "unit": "рул" },
      { "id": "stretch-1kg", "title": "Стрейч-плёнка 1 кг", "size": "1 кг", "price": 300, "unit": "шт" }
    ]
  },
  {
    "category": "Скотч и ленты",
    "items": [
      { "id": "tape-50", "title": "Упаковочный скотч 50 мм", "size": "роль", "price": 120, "unit": "шт" }
    ]
  },
  {
    "category": "Сумки для переезда",
    "items": [
      { "id": "bag-small", "title": "Сумка для переезда (маленькая)", "size": "маленькая", "price": 600, "unit": "шт" },
      { "id": "bag-medium", "title": "Сумка для переезда (средняя)", "size": "средняя", "price": 900, "unit": "шт" },
      { "id": "bag-large", "title": "Сумка для переезда (большая)", "size": "большая", "price": 1200, "unit": "шт" }
    ]
  },
  {
    "category": "Наборы и услуги",
    "items": [
      { "id": "kit-econom", "title": "Набор эконом (3 коробки + скотч + плёнка)", "size": "набор", "price": 2500, "unit": "набор" },
      { "id": "service-packfrag", "title": "Упаковка хрупких вещей", "size": "услуга", "price": 2500, "unit": "усл" },
      { "id": "service-loader", "title": "Доп. грузчик (1 час)", "size": "час", "price": 2500, "unit": "час" }
    ]
  }
]
</script>

    <div id="catalog"></div>

    <p style="margin-top:26px;color:#666;font-size:0.95rem;">Подсказка: чтобы изменить цену, открой этот файл (shop_from_zero.html) в любом текстовом редакторе, найди блок &lt;script id="product-data"&gt; и измени число "price" для нужных товаров. Сохрани — и обнови страницу.</p>
  </div>

  <!-- Плавающая корзина (панель) -->
  <div id="cart" class="cart-panel" aria-hidden="true">
    <div class="cart-header">
      <strong>Корзина</strong>
      <div>
        <button id="clear-cart" class="small">Очистить</button>
        <button id="close-cart" class="small">✕</button>
      </div>
    </div>
    <div class="cart-items" id="cart-items"></div>
    <div>
      <div class="total" id="cart-total">Итого: 0 тг</div>
      <div style="margin-top:8px;">
        <input id="order-comment" placeholder="Адрес или комментарий (необязательно)" style="width:100%;padding:8px;border-radius:8px;border:1px solid #e6e9f2;margin-top:8px;">
      </div>
      <div style="margin-top:10px;display:flex;gap:8px;">
        <button id="checkout" class="btn whatsapp" style="flex:1;"><i class="fab fa-whatsapp"></i> Оформить через WhatsApp</button>
        <button id="view-cart-toggle" class="btn" style="background:#1a237e;">Показать</button>
      </div>
    </div>
  </div>

  <!-- Плавающая кнопка корзины (не разворачивает панель сама по себе) -->
  <button id="cart-button" class="cart-button" title="Открыть корзину" aria-label="Открыть корзину" style="display:none;">
    <i class="fas fa-shopping-cart"></i>
    <div id="cart-button-badge" class="cart-badge" style="display:none;">0</div>
  </button>

<script>
/* Загрузка товаров из JSON-блока (редактируй цены прямо в файле) */
function loadProductData(){
  try {
    const el = document.getElementById('product-data');
    if(!el) return [];
    return JSON.parse(el.textContent);
  } catch(e){
    console.error('product-data parse error', e);
    return [];
  }
}

let DATA = loadProductData();

/* CART in localStorage */
const CART_KEY = 'gruzim_shop_cart_v1';
let cart = {}; // {id: qty}

function saveCart(){ try{ localStorage.setItem(CART_KEY, JSON.stringify(cart)); }catch(e){} }
function loadCart(){ try{ const raw = localStorage.getItem(CART_KEY); if(raw) cart = JSON.parse(raw); else cart = {}; }catch(e){ cart = {}; } }
function cartCount(){ return Object.values(cart).reduce((s,n)=>s + (parseInt(n)||0), 0); }

function formatPrice(n){ return new Intl.NumberFormat('ru-RU').format(n) + ' тг'; }

/* Render catalog by categories */
function renderCatalog(){
  const wrap = document.getElementById('catalog');
  wrap.innerHTML = '';
  DATA.forEach(cat => {
    const section = document.createElement('section');
    section.className = 'category';
    const h = document.createElement('h2');
    h.textContent = cat.category;
    section.appendChild(h);

    const grid = document.createElement('div');
    grid.className = 'cards';
    cat.items.forEach(item=>{
      const card = document.createElement('div');
      card.className = 'card';
      card.innerHTML = `
         <div style="display:flex;align-items:center;justify-content:space-between;">
           <div>
             <strong>${item.title}</strong>
             <div class="meta">${item.size || ''}</div>
           </div>
           <div style="text-align:right;">
             <div class="price" data-id="${item.id}">${formatPrice(item.price)}</div>
           </div>
         </div>
         <div style="display:flex;align-items:center;justify-content:space-between;margin-top:6px;">
           <div class="meta">${item.unit}</div>
           <div class="add-controls">
             <button class="small dec" aria-label="Уменьшить количество" data-id="${item.id}">−</button>
             <span id="qty-${item.id}">${cart[item.id]||0}</span>
             <button class="small inc" aria-label="Увеличить количество" data-id="${item.id}">+</button>
             <button class="btn add" aria-label="Добавить в корзину" data-id="${item.id}" style="margin-left:8px;">Добавить</button>
           </div>
         </div>
      `;
      grid.appendChild(card);
    });
    section.appendChild(grid);
    wrap.appendChild(section);
  });
  updateBadgeTop();
}

/* CART UI */
function updateCartUI(){
  const panel = document.getElementById('cart');
  const itemsDiv = document.getElementById('cart-items');
  itemsDiv.innerHTML = '';
  const keys = Object.keys(cart);
  if(keys.length===0){
    itemsDiv.innerHTML = '<div style="color:#666">Корзина пуста</div>';
    document.getElementById('cart-total').textContent = 'Итого: 0 тг';
    // hide panel when empty and hide floating button
    panel.style.display = 'none';
    panel.setAttribute('aria-hidden','true');
  } else {
    let total = 0;
    keys.forEach(id=>{
      // find item
      let item = null;
      for(const cat of DATA){ item = cat.items.find(x=>x.id===id); if(item) break; }
      if(!item) return;
      const qty = cart[id];
      const row = document.createElement('div');
      row.className = 'cart-item';
      row.innerHTML = `
        <div>
          <div style="font-weight:700;">${item.title}</div>
          <div style="color:#666;font-size:0.95rem;">${formatPrice(item.price)} × ${qty}</div>
        </div>
        <div style="display:flex;flex-direction:column;align-items:flex-end;gap:6px;">
          <div style="font-weight:700;">${formatPrice(item.price*qty)}</div>
          <div style="display:flex;gap:6px;">
            <button class="small dec" aria-label="Уменьшить количество" data-id="${id}">−</button>
            <button class="small inc" aria-label="Увеличить количество" data-id="${id}">+</button>
            <button class="small remove" aria-label="Удалить из корзины" data-id="${id}" style="color:#d00">✕</button>
          </div>
        </div>
      `;
      itemsDiv.appendChild(row);
      total += item.price * qty;
    });
    document.getElementById('cart-total').textContent = 'Итого: ' + formatPrice(total);
    // panel remains hidden until user opens it; do not force-open on add
    panel.setAttribute('aria-hidden','true');
  }
  // update small qty indicators in catalog
  DATA.forEach(cat=>{
    cat.items.forEach(i=>{
      const el = document.getElementById('qty-'+i.id);
      if(el) el.textContent = cart[i.id] || 0;
    });
  });
  updateBadgeTop();
}

/* Utilities to change cart */
function addToCart(id, qty=1){
  // don't auto-open panel anymore; just update cart
  cart[id] = (cart[id]||0) + qty;
  if(cart[id] <= 0) delete cart[id];
  saveCart(); updateCartUI(); updateBadgeTop();
  // small feedback without huge panel
  flashAddedFeedback(id);
}
function removeFromCart(id){ delete cart[id]; saveCart(); updateCartUI(); updateBadgeTop(); }
function changeQty(id, delta){
  cart[id] = (cart[id]||0) + delta;
  if(cart[id] <= 0) delete cart[id];
  saveCart(); updateCartUI(); updateBadgeTop();
}
function clearCart(){ cart = {}; saveCart(); updateCartUI(); updateBadgeTop(); }

/* Badge on header and floating button */
function updateBadgeTop(){
  const b = document.getElementById('badge-top');
  const count = cartCount();
  const cartButton = document.getElementById('cart-button');
  const cartBadge = document.getElementById('cart-button-badge');
  if(count>0){ 
    if(b){ b.style.display='inline-block'; b.textContent = count; } 
    if(cartButton){ cartButton.style.display='flex'; cartBadge.style.display='flex'; cartBadge.textContent = count; }
  } else { 
    if(b){ b.style.display='none'; } 
    if(cartButton){ cartButton.style.display='none'; cartBadge.style.display='none'; cartBadge.textContent = ''; }
  }
}

/* Small transient feedback when adding */
function flashAddedFeedback(id){
  // find add button and briefly change text
  const btn = document.querySelector('.btn.add[data-id="'+id+'"]');
  if(!btn) return;
  const orig = btn.textContent;
  btn.textContent = 'Добавлено';
  setTimeout(()=>{ btn.textContent = orig; }, 900);
}

/* Event bindings */
document.addEventListener('click', function(e){
  const btn = e.target;
  // button or inside button elements
  const addBtn = btn.closest ? btn.closest('.btn.add') : null;
  if(addBtn && addBtn.matches('.btn.add')){
    const id = addBtn.dataset.id; addToCart(id,1); return;
  }
  const inc = btn.closest ? btn.closest('.inc') : null;
  if(inc && inc.matches('.inc')){ const id = inc.dataset.id; changeQty(id,1); return; }
  const dec = btn.closest ? btn.closest('.dec') : null;
  if(dec && dec.matches('.dec')){ const id = dec.dataset.id; changeQty(id,-1); return; }
  const rem = btn.closest ? btn.closest('.small.remove') : null;
  if(rem && rem.matches('.small.remove')){ const id = rem.dataset.id; removeFromCart(id); return; }
  if(btn.id === 'clear-cart'){ if(confirm('Очистить корзину?')) clearCart(); return; }
  if(btn.id === 'close-cart'){ document.getElementById('cart').style.display='none'; document.getElementById('cart').setAttribute('aria-hidden','true'); return; }
  if(btn.id === 'view-cart-toggle'){ toggleCartPanel(true); return; }
  if(btn.id === 'checkout'){
    // build text
    const keys = Object.keys(cart);
    if(keys.length===0){ alert('Корзина пуста'); return; }
    let total=0; let text = 'Здравствуйте! Хочу заказать:%0A';
    keys.forEach(id=>{
      let item=null; for(const cat of DATA){ item = cat.items.find(x=>x.id===id); if(item) break; }
      if(!item) return;
      const qty = cart[id];
      text += `- ${item.title} × ${qty} — ${item.price} тг%0A`;
      total += item.price * qty;
    });
    text += `%0AИтого: ${total} тг%0A`;
    const comment = document.getElementById('order-comment').value.trim();
    if(comment) text += `%0AКомментарий: ${encodeURIComponent(comment)}%0A`;
    const url = 'https://wa.me/77767469606?text=' + encodeURIComponent(text);
    window.open(url, '_blank');
    return;
  }
  // cart button click (may be icon inside)
  const cartBtn = btn.closest ? btn.closest('#cart-button') : null;
  if(cartBtn && cartBtn.id === 'cart-button'){ toggleCartPanel(); return; }
});

/* Toggle cart panel visibility */
function toggleCartPanel(show){
  const panel = document.getElementById('cart');
  if(show === undefined) show = (panel.style.display === 'none' || panel.getAttribute('aria-hidden') === 'true');
  if(show){
    updateCartUI(); // refresh contents
    panel.style.display = 'block';
    panel.setAttribute('aria-hidden','false');
    // ensure panel is above cart button
    panel.focus && panel.focus();
  } else {
    panel.style.display = 'none';
    panel.setAttribute('aria-hidden','true');
  }
}

/* init */
loadCart();
renderCatalog();
updateCartUI();

/* attach cart-button behaviour */
(function(){
  const cb = document.getElementById('cart-button');
  if(cb){
    cb.addEventListener('keydown', function(e){ if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); toggleCartPanel(); } });
  }
})();
</script>

</body>
</html>
